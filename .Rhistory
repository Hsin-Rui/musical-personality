row.names(result)[stringr::str_detect(row.names(result), "IM01")])
result <- result[new_order,]
result
as.character(result)
as.character(result[,1])
for (i in 1:ncol(result)) {
result[,i]<- as.character(result[,i])
}
result
result[,i]
stringr::str_remove(result[,i], "^0")
sum_model  <- mirt::summary(models$model_2, verbose = FALSE)
sum_model$rotF [abs(sum_model$rotF) < 0.3] <- NA
result <- data.frame(sum_model$rotF, sum_model$h2)
result <- round(result, digits = 3)
new_order <-
c("Profilklasse",
"AG_Teilnahme",
row.names(result)[stringr::str_detect(row.names(result), "KV")],
row.names(result)[stringr::str_detect(row.names(result), "MA02")],
row.names(result)[stringr::str_detect(row.names(result), "IU01")],
row.names(result)[stringr::str_detect(row.names(result), "MA01")],
row.names(result)[stringr::str_detect(row.names(result), "IM01")])
result <- result[new_order,]
for (i in 1:ncol(result)) {
result[,i] <- coalesce(as.character(result[,i]), "0")
result[,i] <- stringr::str_remove(result[,i], "^0")
}
result
sum_model  <- mirt::summary(models$model_2, verbose = FALSE)
sum_model$rotF [abs(sum_model$rotF) < 0.3] <- NA
result <- data.frame(sum_model$rotF, sum_model$h2)
result <- round(result, digits = 3)
new_order <-
c("Profilklasse",
"AG_Teilnahme",
row.names(result)[stringr::str_detect(row.names(result), "KV")],
row.names(result)[stringr::str_detect(row.names(result), "MA02")],
row.names(result)[stringr::str_detect(row.names(result), "IU01")],
row.names(result)[stringr::str_detect(row.names(result), "MA01")],
row.names(result)[stringr::str_detect(row.names(result), "IM01")])
result <- result[new_order,]
for (i in 1:ncol(result)) {
result[,i] <- coalesce(as.character(result[,i]), "0")
result[,i] <- stringr::str_remove(result[,i], "^(0)|^-(0)", group=1)
}
?stringr::str_remove
?stringr::str_replace
sum_model  <- mirt::summary(models$model_2, verbose = FALSE)
sum_model$rotF [abs(sum_model$rotF) < 0.3] <- NA
result <- data.frame(sum_model$rotF, sum_model$h2)
result <- round(result, digits = 3)
new_order <-
c("Profilklasse",
"AG_Teilnahme",
row.names(result)[stringr::str_detect(row.names(result), "KV")],
row.names(result)[stringr::str_detect(row.names(result), "MA02")],
row.names(result)[stringr::str_detect(row.names(result), "IU01")],
row.names(result)[stringr::str_detect(row.names(result), "MA01")],
row.names(result)[stringr::str_detect(row.names(result), "IM01")])
result <- result[new_order,]
for (i in 1:ncol(result)) {
result[,i] <- coalesce(as.character(result[,i]), "")
result[,i] <- stringr::str_remove(result[,i], "0\\.", "\\.")
}
sum_model  <- mirt::summary(models$model_2, verbose = FALSE)
sum_model$rotF [abs(sum_model$rotF) < 0.3] <- NA
result <- data.frame(sum_model$rotF, sum_model$h2)
result <- round(result, digits = 3)
new_order <-
c("Profilklasse",
"AG_Teilnahme",
row.names(result)[stringr::str_detect(row.names(result), "KV")],
row.names(result)[stringr::str_detect(row.names(result), "MA02")],
row.names(result)[stringr::str_detect(row.names(result), "IU01")],
row.names(result)[stringr::str_detect(row.names(result), "MA01")],
row.names(result)[stringr::str_detect(row.names(result), "IM01")])
result <- result[new_order,]
for (i in 1:ncol(result)) {
result[,i] <- coalesce(as.character(result[,i]), "")
result[,i] <- stringr::str_replace(result[,i], "0\\.", "\\.")
}
result
devtools::load_all()
models <- readRDS("inst/models/models_27items.rds")
devtools::load_all()
create_table_7.9()
devtools::load_all()
create_table_7.9()
KV <- row.names(result)[stringr::str_detect(row.names(result), "KV")]
MA02 <- row.names(result)[stringr::str_detect(row.names(result), "MA02")]
MA01 <- row.names(result)[stringr::str_detect(row.names(result), "MA01")]
IM01 <- row.names(result)[stringr::str_detect(row.names(result), "IM01")]
MA01
reorder(MA01)
order(MA01)
MA01[order(MA01)]
devtools::load_all()
create_table_7.9()
create_table_7.10()
devtools::load_all()
create_table_7.10()
itemfit(models$model_2) #complete dataset (N=1332)
mirt::itemfit(models$model_2) #complete dataset (N=1332)
?mirt::itemfit
mirt::itemfit(models$model_2, na.rm = TRUE) #complete dataset (N=1332)
item.fit2[,c(2:5)] <- round(item.fit2 [,c(2:5)], digits=3)
results <- mirt::itemfit(models$model_2, na.rm = TRUE) #complete dataset (N=1332)
result <- mirt::itemfit(models$model_2, na.rm = TRUE) #complete dataset (N=1332)
result
row.names(result)
row.names(result) <- result$item
row.names(result)
devtools::load_all()
models <- readRDS("inst/models/models_27items.rds")
result <- mirt::itemfit(models$model_2, na.rm = TRUE) #complete dataset (N=1332)
row.names(result) <- result$item
result <- reorder_items(result)
result
result %>%
dplyr::select(-item)
usethis::use_package("dplyr")
result <- result %>%
dplyr::select(-item)
result
devtools::load_all()
create_table_7.11()
models <- readRDS("inst/models/models_27items.rds")
result <- mirt::itemfit(models$model_2, na.rm = TRUE) #complete dataset (N=1332)
row.names(result) <- result$item
result <- reorder_items(result)
result <- result %>%
dplyr::select(-item)
result
round(result, digits=3)
devtools::load_all()
create_table_7.11()
result[result == ""]
result[result == ""]
devtools::load_all()
create_table_7.11()
result[result=="0"]
devtools::load_all()
create_table_7.11()
renv::status()
devtools::document()
readRDS("inst/df_explore.rds") #23 Items
df <- readRDS("inst/df_explore.rds")
devtools::load_all()
run_exploratory_mirt_23items()
run_exploratory_mirt_23items(save_model = TRUE)
readRDS("inst/models/models_23items.rds")
models <- readRDS("inst/models/models_23items.rds")
devtools::load_all()
create_table_7.12()
devtools::load_all()
create_table_7.13()
devtools::load_all()
create_table_7.14()
devtools::load_all()
run_exploratory_mirt_22items()
run_exploratory_mirt_22items(save_model = TRUE)
create_table_7.15()
devtools::load_all()
create_table_7.16()
#' Create table 7.16
#'
create_table_7.16 <- function(){
models <- readRDS("inst/models/models_22items.rds")
report_item_fit(models$model_2)
}
devtools::load_all()
create_table_7.17()
devtools::load_all()
create_table_7.17()
devtools::load_all()
run_confirmatory_mirt_22items()
devtools::load_all()
run_confirmatory_mirt_22items()
devtools::load_all()
run_confirmatory_mirt_22items()
run_confirmatory_mirt_22items(save_model = TRUE)
devtools::load_all()
create_table_7.18()
devtools::load_all()
create_table_7.19()
devtools::load_all()
devtools::load_all()
create_table_7.19()
devtools::load_all()
create_table_7.20()
devtools::load_all()
create_table_7.21()
devtools::load_all()
create_table_7.21()
readRDS("inst/df_t1.rds")
df <- readRDS("inst/df_t1.rds")
df %>% names()
D1 <- c("AG_Teilnahme", #1
"Profilklasse", #2
"IU01", #3
"MA01_01", #4
"KV01_02", #5
"KV01_03", #6
"KV01_04", #7
"KV01_05", #8
"MA02_01", #9
"MA02_03", #10
"MA02_04", #11
"MA02_05") #12
D2 <- c("MA01_02", #13
"MA01_03", #14
"MA01_04", #15
"MA01_05", #16
"MA01_07", #17
"MA01_09", #18
"MA01_10", #19
"IM01_01", #20
"IM01_02", #21
"IM01_05") #22
itemtype <- c("2PL", #1
"2PL", #2
"graded", #3
"graded", #4
"2PL", #5
"2PL", #6
"2PL", #7
"2PL", #8
"2PL", #9
"2PL", #10
"2PL", #11
"2PL", #12
"graded", #13
"graded", #14
"graded", #15
"graded", #16
"graded", #17
"graded", #18
"graded", #19
"graded", #20
"graded", #21
"graded") #22
devtools::load_all()
devtools::load_all()
run_bifactor_model_full_sample()
devtools::load_all()
run_bifactor_model_full_sample()
run_bifactor_model_full_sample(save_model = TRUE)
devtools::load_all()
create_table_7.22()
devtools::load_all()
devtools::load_all()
create_table_7.23()
devtools::load_all()
create_table_7.24()
bif.coef <- mirt::coef(models$model_1, simplify=T)
bif.coef <- bif.coef$items
bif.coef <- round(bif.coef, digits=3)
bif.coef
models <- readRDS("inst/models/model_bifactor_full_sample.rds")
bif.coef <- mirt::coef(models$model_1, simplify=T)
bif.coef <- bif.coef$items
bif.coef <- round(bif.coef, digits=3)
bif.coef
reorder_items(bif.coef)
usethis::use_package("BifactorIndicesCalculator")
renv::status()
renv::snapshot()
renv::status()
renv::install("BiocVersion")
install.packages("BiocVersion")
readRDS("inst/models/model_bifactor_full_sample.rds")
models <- readRDS("inst/models/model_bifactor_full_sample.rds")
devtools::load_all()
run_bifactor_model_full_sample(save_model = TRUE)
models <- readRDS("inst/models/model_bifactor_full_sample.rds")
result <- BifactorIndicesCalculator::bifactorIndices(models$model_1, UniLambda = models$model_2)
result
result <- BifactorIndicesCalculator::bifactorIndices(models$model_1, UniLambda = models$model_2, verbose = FALSE)
?BifactorIndicesCalculator::bifactorIndices
result <- BifactorIndicesCalculator::bifactorIndices(models$model_1, UniLambda = models$model_2)
result
reliability_index <- result$FactorLevelIndices
reliability_index
reliability_index[,c(-1,-3)]
reliability_index <- reliability_index[,c(-1,-3)]
renv::status()
renv::snapshot()
renv::status()
renv::update("BiocVersion")
install.packages(pak)
install.packages("pak")
renv::remove("BiocVersion")
renv::status()
renv::restore()
reliability_index$FD * reliability_index$FD
reliability_index$FD_squared <- reliability_index$FD * reliability_index$FD
reliability_index$FD_worst_cor <- 2 * reliability_index$FD_squared - 1
models <- readRDS("inst/models/model_bifactor_full_sample.rds")
result <- BifactorIndicesCalculator::bifactorIndices(models$model_1, UniLambda = models$model_2)
result <- result$FactorLevelIndices
result <- result[,c(-1,-3)]
result$FD_squared <- result$FD * result$FD
result$FD_worst_cor <- 2 * result$FD_squared - 1
result <- round(result, digits = 3)
result
devtools::load_all()
create_table_8.1()
devtools::load_all()
create_table_8.1()
0.87 - 0.372
0.862 - 0.51
0.862 - 0.512
0.822 - 0.715
readRDS("inst/model_bifactor_full_sample.rds")
readRDS("inst/models/model_bifactor_full_sample.rds")
models <- readRDS("inst/models/model_bifactor_full_sample.rds")
scores <-fscores(models$model_2)
scores <- mirt::fscores(models$model_2)
scores
set.seed(123465)
scores <- mirt::fscores(models$model_2)
scores
set.seed(123465)
scores <- mirt::fscores(models$model_2)
scores
?mirt::fscores
set.seed(123465)
scores_EAP <- mirt::fscores(models$model_2)
scores_MAP <- mirt::fscores(models$model_2, method = "MAP", QMC = TRUE)
set.seed(123465)
scores_MAP <- mirt::fscores(models$model_2, method = "MAP", QMC = TRUE)
set.seed(123465)
scores_MAR_error <- mirt::fscores(models$model_2, method = "MAP", full.scores.SE = TRUE, QMC = TRUE)
scores_MAR_error
scores_MAR_error %>% View()
set.seed(123465)
scores_EAP_error <- mirt::fscores(models$model_1, full.scores.SE = TRUE)
scores_EAP_error
set.seed(123465)
scores_MAR_error <- mirt::fscores(models$model_1, method = "MAP", full.scores.SE = TRUE, QMC = TRUE)
set.seed(123465)
EAP_reliability <- mirt::fscores(model, full.scores.SE = TRUE, returnER = TRUE)
devtools::load_all()
devtools::load_all()
calculate_factore_score(readRDS("inst/models/model_bifactor_full_sample.rds")$model_1)
devtools::load_all()
calculate_factore_score(readRDS("inst/models/model_bifactor_full_sample.rds")$model_1)
calculate_factore_score(readRDS("inst/models/model_bifactor_full_sample.rds")$model_1, save_scores = TRUE)
scores <- readRDS("inst/scores/scores_t1.rds")
scores$EAP_score
data.frame(scores$EAP_score)
scores$EAP_scores
scores$EAP_score
EAP_scores <- data.frame(scores$EAP_score)
EAP_scores$G
mean(EAP_scores$G)
round(mean(EAP_scores$G))
round(mean(EAP_scores$G), digits = 3)
c(round(mean(EAP_scores$G), digits = 3),
round(mean(EAP_scores$F1), digits = 3),
round(mean(EAP_scores$F2), digits = 3))
c(round(mean(EAP_scores$G), digits = 3),
round(mean(EAP_scores$S1), digits = 3),
round(mean(EAP_scores$S2), digits = 3))
MAP_scores <- data.frame(scores$MAP_score)
c(round(mean(EAP_scores$G), digits = 3),
round(mean(EAP_scores$S1), digits = 3),
round(mean(EAP_scores$S2), digits = 3),
round(mean(MAP_scores$G), digits = 3),
round(mean(MAP_scores$S1), digits = 3),
round(mean(MAP_scores$S1), digits = 3))
c(round(mean(EAP_scores$G), digits = 3),
round(mean(EAP_scores$S1), digits = 3),
round(mean(EAP_scores$S2), digits = 3),
round(mean(MAP_scores$G), digits = 3),
round(mean(MAP_scores$S1), digits = 3),
round(mean(MAP_scores$S2), digits = 3))
scores_mean <- c(round(mean(EAP_scores$G), digits = 3),
round(mean(EAP_scores$S1), digits = 3),
round(mean(EAP_scores$S2), digits = 3),
round(mean(MAP_scores$G), digits = 3),
round(mean(MAP_scores$S1), digits = 3),
round(mean(MAP_scores$S2), digits = 3))
scores_sd <- c(round(sd(EAP_scores$G), digits = 3),
round(sd(EAP_scores$S1), digits = 3),
round(sd(EAP_scores$S2), digits = 3),
round(sd(MAP_scores$G), digits = 3),
round(sd(MAP_scores$S1), digits = 3),
round(sd(MAP_scores$S2), digits = 3))
min_se <- c(round(min(EAP_scores$SE_G), digits = 3),
round(min(EAP_scores$SE_S1), digits = 3),
round(min(EAP_scores$SE_S2), digits = 3),
round(min(MAP_scores$SE_G), digits = 3),
round(min(MAP_scores$SE_S1), digits = 3),
round(min(MAP_scores$SE_S2), digits = 3))
er <- c(scores$EAP_reliability, scores$MAR_reliability)
er <- round(c(scores$EAP_reliability, scores$MAR_reliability), digits = 3)
devtools::load_all()
create_table_8.2()
scores <- readRDS("inst/scores/scores_t1.rds")
scores <- readRDS("inst/scores/scores_t1.rds")
df_t1 <- readRDS("inst/df_t1.rds")
df_t1[,c(D1, D2)]
df <- readRDS("inst/df_t1.rds")
df <- df [,c(D1, D2)]
data.frame(FG_sum = FG_sum, F1_sum = F1_sum, F2_sum = F2_sum)
df <- df [,c(D1, D2)]
n.items <- 22-rowSums(is.na(df))
n.items_D1 <- 12-rowSums(is.na(df[,D1]))
n.items_D2 <- 10-rowSums(is.na(df[,D2]))
FG_sum <- data.frame(rowSums(df[,c(D1,D2)], na.rm = T)/n_items)
F1_sum <- rowSums(df[,D1], na.rm = TRUE)/n.items.D1
F2_sum <- rowSums(df[,D2], na.rm = TRUE)/n.items.D2
n_items <- 22-rowSums(is.na(df))
n_items_D1 <- 12-rowSums(is.na(df[,D1]))
n_items_D2 <- 10-rowSums(is.na(df[,D2]))
FG_sum <- data.frame(rowSums(df[,c(D1,D2)], na.rm = TRUE)/n_items)
F1_sum <- rowSums(df[,D1], na.rm = TRUE)/n_items.D1
F2_sum <- rowSums(df[,D2], na.rm = TRUE)/n_items.D2
n_items <- 22-rowSums(is.na(df))
n_items_D1 <- 12-rowSums(is.na(df[,D1]))
n_items_D2 <- 10-rowSums(is.na(df[,D2]))
FG_sum <- data.frame(rowSums(df[,c(D1,D2)], na.rm = TRUE)/n_items)
F1_sum <- rowSums(df[,D1], na.rm = TRUE)/n_items_D1
F2_sum <- rowSums(df[,D2], na.rm = TRUE)/n_items_D2
data.frame(FG_sum = FG_sum, F1_sum = F1_sum, F2_sum = F2_sum)
n_items <- 22-rowSums(is.na(df))
n_items_D1 <- 12-rowSums(is.na(df[,D1]))
n_items_D2 <- 10-rowSums(is.na(df[,D2]))
FG_sum <- rowSums(df[,c(D1,D2)], na.rm = TRUE)/n_items
F1_sum <- rowSums(df[,D1], na.rm = TRUE)/n_items_D1
F2_sum <- rowSums(df[,D2], na.rm = TRUE)/n_items_D2
data.frame(FG_sum = FG_sum, F1_sum = F1_sum, F2_sum = F2_sum)
scores_sum <- data.frame(FG_sum = FG_sum, F1_sum = F1_sum, F2_sum = F2_sum)
scores$EAP_score
scores_EAP <- data.frame(scores$EAP_score)[,c(1:3)]
scores_EAP
scores_EAP <- data.frame(scores$EAP_score)[,c(1:3)]
names(scores_EAP) <- c("FG (EAP)", "F1 (EAP)", "F2 (EAP)")
scores_MAP <- data.frame(scores$MAP_score)[,c(1:3)]
names(scores_MAP) <- c("FG (MAP)", "F1 (MAP)", "F2 (MAP)")
cbind(scores_EAP, scores_MAP, scores_sum)
cor(cbind(scores_EAP, scores_MAP, scores_sum))
cor_matrix <- cor(cbind(scores_EAP, scores_MAP, scores_sum))
round(cor_matrix, digits = 2)
devtools::document()
usethis::use_package("ggpubr")
readRDS("inst/scores/scores_t1.rds")
readRDS("inst/scores/scores_t1.rds")$EAP_score
scores <- readRDS("inst/scores/scores_t1.rds")$EAP_score
scores
ggplot2::ggplot(scores, ggplot2::aes(x=G))+
ggplot2::ggtitle("(a)")+
ggplot2::geom_histogram(colour="black", fill="grey")+
ggplot2::scale_x_continuous(name = "Generelle Teilhabe")+
ggplot2::scale_y_continuous("H채ufigkeit")+
apatheme
devtools::load_all()
devtools::load_all()
create_figure_7.3()
devtools::load_all()
create_figure_8.1()
devtools::load_all()
create_figure_8.1()
p1 <-
ggplot2::ggplot(scores, ggplot2::aes(x=G))+
ggplot2::ggtitle("(a)")+
ggplot2::geom_histogram(colour="black", fill="grey")+
ggplot2::scale_x_continuous(name = "Generelle Teilhabe")+
ggplot2::scale_y_continuous("H채ufigkeit")+
apatheme
p2 <-
ggplot2::ggplot(scores, ggplot2::aes(x=S1))+
ggplot2::ggtitle("(b)")+
ggplot2::geom_histogram(colour="black", fill="grey")+
ggplot2::scale_x_continuous(name = "Teilhabe im formalen Kontext")+
ggplot2::scale_y_continuous("H채ufigkeit")+
apatheme
p3 <- ggplot2::ggplot(scores, aes(x=S2))+
ggplot2::ggtitle("(c)")+
ggplot2::geom_histogram(colour="black", fill="grey")+
ggplot2::scale_x_continuous(name = "Teilhabe im informellen Kontext")+
ggplot2::scale_y_continuous("H채ufigkeit")+
apatheme
p <- ggpubr::ggarrange(p1, p2, p3, ncol=2,nrow=2)
p
devtools::load_all()
create_figure_8.1()
devtools::load_all()
create_figure_8.1()
devtools::load_all()
create_figure_8.1()
devtools::load_all()
create_figure_8.1(save_file = TRUE)
devtools::load_all()
create_figure_8.1(save_file = TRUE)
devtools::load_all()
create_figure_8.1(save_file = TRUE)
devtools::load_all()
create_figure_8.1(save_file = TRUE)
create_figure_8.1(save_file = TRUE)
devtools::load_all()
create_figure_8.1(save_file = TRUE)
readRDS("inst/scores/scores_t1.rds")
scores <- readRDS("inst/scores/scores_t1.rds")
EAP_error <- scores_EAP_error
scores <- readRDS("inst/scores/scores_t1.rds")
scores$EAP_score
Q
Q
Q
